{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nimport { useState, useEffect } from \"react\";\nimport axios from 'axios';\nconst [todo, setTodo] = useState();\nuseEffect(() => {\n  let mounted = true;\n  axios.get(`http://localhost:3001/api/v1/todos`).then(res => {\n    if (mounted) {\n      const todos = res.data;\n      setTodo(todos);\n    }\n  });\n  return () => mounted = false;\n}, []);\nconst initialState = {\n  todos: [{\n    id: 1,\n    title: \"post 1\",\n    description: \"Quisque cursus, metus vitae pharetra Nam libero tempore, cum soluta nobis est eligendi\",\n    dueDate: new Date(),\n    priority: 1\n  }, {\n    id: 2,\n    title: \"post 2\",\n    description: \"Harum quidem rerum facilis est et expedita distinctio quas molestias excepturi sint\",\n    dueDate: new Date(),\n    priority: 2\n  }]\n};\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case actionTypes.ADD_TODO:\n      const newTodo = {\n        id: Math.random(),\n        // not really unique\n        title: action.todo.title,\n        description: action.todo.description,\n        dueDate: action.todo.dueDate,\n        priority: action.todo.priority\n      };\n      return {\n        ...state,\n        todos: state.todos.concat(newTodo)\n      };\n    case actionTypes.REMOVE_TODO:\n      const updatedTodos = state.todos.filter(todo => todo.id !== action.todo.id);\n      return {\n        ...state,\n        todos: updatedTodos\n      };\n  }\n  return state;\n};\nexport default reducer;","map":{"version":3,"names":["actionTypes","useState","useEffect","axios","todo","setTodo","mounted","get","then","res","todos","data","initialState","id","title","description","dueDate","Date","priority","reducer","state","action","type","ADD_TODO","newTodo","Math","random","concat","REMOVE_TODO","updatedTodos","filter"],"sources":["/Users/brijeshrawat/Documents/projects/todoApp/todo-app-frontend/src/store/reducer.ts"],"sourcesContent":["import * as actionTypes from \"./actionTypes\";\nimport React, { useState, useEffect } from \"react\";\n\nimport axios from 'axios';\n\nconst [todo, setTodo] = useState();\n\nuseEffect(() => {\n  let mounted = true;\n  axios.get(`http://localhost:3001/api/v1/todos`)\n  .then(res => {\n    if(mounted){\n    const todos = res.data;\n    setTodo(todos);\n    }\n  })\n \n  return () => (mounted = false);\n}, []);\n\n\n\nconst initialState: TodoState = {\n  todos: [\n    {\n      id: 1,\n      title: \"post 1\",\n      description:\n        \"Quisque cursus, metus vitae pharetra Nam libero tempore, cum soluta nobis est eligendi\",\n        dueDate: new Date(),\n        priority: 1\n    },\n    {\n      id: 2,\n      title: \"post 2\",\n      description:\n        \"Harum quidem rerum facilis est et expedita distinctio quas molestias excepturi sint\",\n        dueDate: new Date(),\n        priority: 2\n    },\n  ],\n}\nconst reducer = (\n    state: TodoState = initialState,\n    action: TodoAction\n  ): TodoState => {\n    switch (action.type) {\n      case actionTypes.ADD_TODO:\n        const newTodo: ITodo = {\n          id: Math.random(), // not really unique\n          title: action.todo.title,\n          description: action.todo.description,\n          dueDate: action.todo.dueDate,\n          priority: action.todo.priority\n        }\n        return {\n          ...state,\n          todos: state.todos.concat(newTodo),\n        }\n      case actionTypes.REMOVE_TODO:\n        const updatedTodos: ITodo[] = state.todos.filter(\n          todo => todo.id !== action.todo.id\n        )\n        return {\n          ...state,\n          todos: updatedTodos,\n        }\n    }\n    return state\n  }\n  \n  export default reducer"],"mappings":"AAAA,OAAO,KAAKA,WAAW,MAAM,eAAe;AAC5C,SAAgBC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAElD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGJ,QAAQ,EAAE;AAElCC,SAAS,CAAC,MAAM;EACd,IAAII,OAAO,GAAG,IAAI;EAClBH,KAAK,CAACI,GAAG,CAAE,oCAAmC,CAAC,CAC9CC,IAAI,CAACC,GAAG,IAAI;IACX,IAAGH,OAAO,EAAC;MACX,MAAMI,KAAK,GAAGD,GAAG,CAACE,IAAI;MACtBN,OAAO,CAACK,KAAK,CAAC;IACd;EACF,CAAC,CAAC;EAEF,OAAO,MAAOJ,OAAO,GAAG,KAAM;AAChC,CAAC,EAAE,EAAE,CAAC;AAIN,MAAMM,YAAuB,GAAG;EAC9BF,KAAK,EAAE,CACL;IACEG,EAAE,EAAE,CAAC;IACLC,KAAK,EAAE,QAAQ;IACfC,WAAW,EACT,wFAAwF;IACxFC,OAAO,EAAE,IAAIC,IAAI,EAAE;IACnBC,QAAQ,EAAE;EACd,CAAC,EACD;IACEL,EAAE,EAAE,CAAC;IACLC,KAAK,EAAE,QAAQ;IACfC,WAAW,EACT,qFAAqF;IACrFC,OAAO,EAAE,IAAIC,IAAI,EAAE;IACnBC,QAAQ,EAAE;EACd,CAAC;AAEL,CAAC;AACD,MAAMC,OAAO,GAAG,YAGE;EAAA,IAFdC,KAAgB,uEAAGR,YAAY;EAAA,IAC/BS,MAAkB;EAElB,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKtB,WAAW,CAACuB,QAAQ;MACvB,MAAMC,OAAc,GAAG;QACrBX,EAAE,EAAEY,IAAI,CAACC,MAAM,EAAE;QAAE;QACnBZ,KAAK,EAAEO,MAAM,CAACjB,IAAI,CAACU,KAAK;QACxBC,WAAW,EAAEM,MAAM,CAACjB,IAAI,CAACW,WAAW;QACpCC,OAAO,EAAEK,MAAM,CAACjB,IAAI,CAACY,OAAO;QAC5BE,QAAQ,EAAEG,MAAM,CAACjB,IAAI,CAACc;MACxB,CAAC;MACD,OAAO;QACL,GAAGE,KAAK;QACRV,KAAK,EAAEU,KAAK,CAACV,KAAK,CAACiB,MAAM,CAACH,OAAO;MACnC,CAAC;IACH,KAAKxB,WAAW,CAAC4B,WAAW;MAC1B,MAAMC,YAAqB,GAAGT,KAAK,CAACV,KAAK,CAACoB,MAAM,CAC9C1B,IAAI,IAAIA,IAAI,CAACS,EAAE,KAAKQ,MAAM,CAACjB,IAAI,CAACS,EAAE,CACnC;MACD,OAAO;QACL,GAAGO,KAAK;QACRV,KAAK,EAAEmB;MACT,CAAC;EAAA;EAEL,OAAOT,KAAK;AACd,CAAC;AAED,eAAeD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}